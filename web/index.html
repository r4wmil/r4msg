<style>
.input {
	display: flex;
	gap: 10px;
	flex-direction: column;
	justify-content: center;
	align-items: center;
}
.input > * {
	display: block;
	width: 300px;
	height: 30px;
	font-size: 18px;
}
</style>
<div class="input">
	<input id="input_login" type="login" autocomplete="off" placeholder='Login'></input>
	<input id="input_password" type="password" autocomplete="off" placeholder='Password'></input>
	<button id="button_send" onclick="AuthSend()">Send</button>
	<div id="auth_result" style="display: none;">
		<span id="auth_result_ok">Success.</span>
		<span id="auth_err_internal">Internal error!</span>
	</div>
</div>
<script src="binrw.js"></script>
<script>
	// --- MAIN ---
	input_login.addEventListener("keydown", AuthEnter);
	input_password.addEventListener("keydown", AuthEnter);
	AuthResponceClear();
	// --- DEFINITIONS ---
	function AuthEnter(event) {
		if (event.key === "Enter") {
			event.preventDefault();
			button_send.click();
		}
	}
	function AuthSend() {
		const writer = new ByteWriter();
		writer.u16(0);
		writer.strn(input_login.value);
		writer.strn(input_password.value);
		fetch('/b', { method: 'POST', body: new Uint8Array(writer.arr) })
			.then(resp => resp.arrayBuffer())
			.then(buf => AuthHandleResponse(buf));
	}
	function AuthResponceClear() {
		auth_result.style.display = "block";
		Array.from(auth_result.children).forEach(c => { c.style.display = "none"; });
	}
	function AuthHandleResponse(buf) {
		const reader = new ByteReader(buf);
		AuthResponceClear();
		var msg_type = reader.u8();
		switch (msg_type) {
			case 0: auth_result_ok.style.display = "unset"; break;
			case 1: auth_err_internal.style.display = "unset"; break;
		}
	}
</script>
